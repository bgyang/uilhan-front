# 기능개선건 (2023-10-26 ~ 2023-11-02)

## 마진율 설정 [마진 * 환율 * 추가값1 (카드 수수료 ) + 추가값2 (최소마진)] 

### 데이터구조
```json
{
  // 환율
  "rate":{
    "is_real_rate": true, // 실시간환율(true),고정환율(false) 여부
    "rate_data": "160" // 고정환율일 경우 환율값
  },
  
  // 마진
  "margin": {
    "is_auto_setting":true, // 자동설정(true),수동설정(false) 여부
    
    // 수동설정일 경우
    "marte_data": {
      "margin_value": 1.4, // 수동설정일 경우 마진값
      "card_charge": 1.06, // 수동설정일 경우 카드수수료
      "min_margin": 5000 // 수동설정일 경우 최소마진 
    }
  },
  
  // 마진가중치
  "margin_weight": {
    "is_use": true, // 사용(true),미사용(false) 여부
    
    // 마켓별 마진가중치
    "markets": {
      "coupang": 6,
      "smartstore": 13,
      "sk11st": 10
    }
  }
}
```
### 상품등록
- 상품등록시 `환율 설정`,`마진 설정`,`마진가중치 설정` 을 참조하여 `판매가`를 자동으로 계산하여 저장
- 상품등록시 공식: `마진 * 환율 * 추가값1 (카드 수수료 ) + 추가값2 (최소마진)`

### 상품상세
- 상품상세 기본정보 `배송비`를 `옵션정보` 판매마진,권장가,환율 위치로 옮김
- 배송비 설정시 실시간으로 운임계산하여 보여줌, DB저장 필요 없음
- 옵션정보에서 판매마진,권장가,환율 설정 삭제
- 옵션정보에서 옵션리스트의 `해외운임`,`권장가`삭제

